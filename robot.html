<!DOCTYPE html>

<html>
<head>
<title> Robot</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body id = "background" style="margin:0"> 

<div id="robot_container" onclick="lasersound.play()" class="svg-container"> 
	<svg type="image/svg+xml" id="robot_image" width="calc(100vh)" height="calc(100vh)" viewBox="0 0 242 242" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg" class="svg-content">
		
	<g transform= "translate(-79 -79)"> 
		<g transform="rotate(45 200 200)">
        
        			<polyline fill="#5d5e5a" stroke-width="1px" stroke="black" points="120,130 130,120 270,120 280,130 280,270 270,280 130,280 120,270 120,130"/>
			<polyline fill="#dbded4" stroke-width="1px" stroke="black" points="150,160 110,120 100,130 105,200 150,200 150,160"/>
			<polyline fill="#fffffd" stroke-width="1px" stroke="black" points="160,150 120,110 130,100 200,105 200,150 160,150"/>
			<polyline fill="#fffffd" stroke-width="1px" stroke="black" points="250,240 290,280 300,270 295,200 250,200 250,240"/>
			<polyline fill="#dbded4" stroke-width="1px" stroke="black" points="240,250 280,290 270,300 200,295 200,250 240,250"/>
			<polyline fill="#fffffd" stroke-width="1px" stroke="black" points="150,240 110,280 100,270 105,200 150,200 150,240"/>
			<polyline fill="#fdfdfb" stroke-width="1px" stroke="black" points="240,150 280,110 270,100 200,105 200,150 240,150"/>
			<polyline fill="#d6d9ce" stroke-width="1px" stroke="black" points="250,160 290,120 300,130 295,200 250,200 250,160"/>
			<polyline fill="#d8dbd0" stroke-width="1px" stroke="black" points="160,250 120,290 130,300 200,295 200,250 160,250"/>
		</g>
    
    
    <circle class="eyeball" cx="200" cy="200" r="40" stroke="black" stroke-width="2px" fill="#d6d9ce"/>
        
          
        <defs>
    <mask id="shade">
       <circle cx="210" cy="190" r="40" fill="#fffffd"/>
    </mask>
        </defs>
        
    <circle cx="200" cy="200" r="40" fill="#fffffd" stroke="black" stroke-width="2px" mask="url(#shade)"/>
    
     </g>		 
	
<g class="pupil" transform = "rotate(0 121 121)">
<g transform="translate(-79,-79)" style="position:relative">   
    <circle cx="200" cy="200" r="20" stroke="black" stroke-width="2px" fill="black"/>
        
        <circle cx="200" cy="200" r="16.7" stroke="black" stroke-width="0.01px" fill="#9cb4bb"/>
        
        <circle cx="200" cy="200" r="14.3" stroke="black" stroke-width="0.01px" fill="black"/>
        
        
        
        <circle cx="200" cy="200" r="3" stroke="black" stroke-width="0.01px" fill="#bcf8f6"/>
    
    <rect display="none" fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/>
    
    <g transform="rotate(6 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
   
    
    <g display="none" transform="rotate(12 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(18 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(24 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(30 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(36 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(42 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(48 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(54 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(60 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(66 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(72 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(78 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(84 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(90 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(96 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(102 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(108 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(114 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(120 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(126 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(132 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(138 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(144 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(150 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(156 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(162 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(168 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(174 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(180 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g transform="rotate(186 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    
    <g display="none" transform="rotate(192 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(198 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(204 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(210 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(216 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(222 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(228 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(234 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(240 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(246 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(252 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(258 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(264 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(270 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(276 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(282 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(288 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(294 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(300 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(306 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(312 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(318 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(324 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g transform="rotate(330 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    <g display="none" transform="rotate(336 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    				<g transform="rotate(342 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    				<g display="none" transform="rotate(348 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>
    				<g transform="rotate(354 200 200)"><rect fill="#dcf7fb" x="199.5" y="182" width="1" height="5"/></g>

			</g>
     
		</g>

		<g id="laser" style="opacity:0;"> <line stroke="red" stroke-width="3px" x1="0" y1="0" x2="100" y2="0"/> </g>


   	</svg>
</div>  

<!-- Robot animation --> 

<link rel="stylesheet" href="laser_animation.css">	


<script>
let eyeBall = document.querySelector(".eyeball"),
pupil = document.querySelector(".pupil"),
R = 40,
r = 20,
x0=0.5*window.innerWidth ,
y0=0.5*window.innerHeight,
centerX = x0, 
centerY = y0;

//eyeArea = eyeBall.getBoundingClientRect(),
//pupilArea = pupil.getBoundingClientRect(),
//eyeArea.width/2, pupilArea.width/2 ,eyeArea.left + R, eyeArea.top + R

document.addEventListener("mousemove", (e)=>{
	
	let x = e.pageX - centerX,
      	y = e.pageY - centerY,
      	theta = Math.atan2(y,x),
      	angle = theta*180/Math.PI,
	c=((R-r)*(1-Math.exp(-Math.pow(Math.abs(x)+Math.abs(y),0.1)))-5),
      	alpha=c*Math.cos(theta)+121,
      	beta=c*Math.sin(theta)+121,
    	echelle=(Math.sqrt(Math.pow(x,2)+Math.pow(y,2))-c)/100*(242/window.innerHeight);
  
  	pupil.style.transform = "rotate(" + (angle) + "deg) translateX(" + ((R-r)*(1-Math.exp(-Math.pow(Math.abs(x)+Math.abs(y),0.1)))-5) + "px)";
	pupil.style.transformOrigin =121+"px" + " " + 121 +"px";
    
    	laser.style.transform= " translateX(" + (alpha) + "px) translateY(" + (beta) + "px) rotate(" + (angle) + "deg) scaleX(" + echelle +")";

});

var frame=document.getElementById("robot_image");
var background=document.getElementById("background");
frame.addEventListener("click", (e) =>{laser.style.animation="move_laser 1s 1"; 
setTimeout(function() {laser.style.animation="none";}, 1100);
setTimeout(function() {background.style.cursor="url('files_svg/tinycursor.svg'),auto";}, 750);}); 
</script>
	
	
<audio  id="lasersound"> <source src="sounds/Lasersound.wav" type="audio/wav"/></audio>
</body>
</html>
